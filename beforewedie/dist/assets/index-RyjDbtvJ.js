import{j as e,r as l,A as c,a as m,L as O}from"./index-dZ8zWVJ6.js";import{C as R}from"./Card-vq2MXBD4.js";import{I as n}from"./Icon-ncuALZp0.js";import{G,T as j}from"./GlobalFilter-n0VQ_kVG.js";import{r as o}from"./index-TvUL_Ca8.js";import"./useSkin-c0YZ5c1E.js";import"./iconify--ynwmrU7.js";import"./cleave-phone.us-r_KQ9Y_9.js";const _=({title:s})=>e.jsx("div",{className:"flex justify-between flex-wrap items-center mb-6",children:e.jsx("h4",{className:"font-medium lg:text-2xl text-xl capitalize text-slate-900 inline-block ltr:pr-4 rtl:pl-4",children:s})}),B=[{Header:"#",accessor:"rowIndex"},{Header:"FIRST NAME",accessor:"firstname"},{Header:"LAST NAME",accessor:"lastname"},{Header:"EMAIL",accessor:"email"},{Header:"PHONE",accessor:"phone"},{Header:"ACTION",accessor:"actions"}],M=({Current_user:s})=>{const[g,f]=l.useState([]),[N,d]=l.useState(!0),[h,v]=l.useState(!1);l.useEffect(()=>{y()},[h]);const y=async()=>{try{const t=await m.get(`${c}/club/getclub`);if(t.status===200){const p=t.data.token.map((H,D)=>({...H,rowIndex:D+1}));f(p)}d(!1)}catch(t){console.error("Error fetching Admin data:",t),d(!1)}finally{d(!1)}},k=async t=>{try{const a=await m.delete(`${c}/club/deleteclub?club_id=${t}`),p=await m.delete(`${c}/clubpost/deleteclubpostid?club_id=${t}`);v(!h)}catch(a){console.error("Error deleting :",a)}},w=o.useTable({columns:B,data:g,initialState:{pageIndex:0,pageSize:5}},o.useGlobalFilter,o.useSortBy,o.usePagination),{getTableProps:z,getTableBodyProps:W,headerGroups:V,footerGroups:q,page:C,nextPage:P,previousPage:E,canNextPage:r,canPreviousPage:i,pageOptions:u,state:I,gotoPage:x,pageCount:$,setPageSize:S,setGlobalFilter:L,prepareRow:T}=w,{globalFilter:A,pageIndex:b,pageSize:F}=I;return N?e.jsx("div",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex justify-between items-center mb-6",children:[e.jsxs("div",{className:" flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("select",{className:"form-control py-2 w-max",value:F,onChange:t=>S(Number(t.target.value)),children:[5,10,15].map(t=>e.jsxs("option",{value:t,children:["Show ",t]},t))}),e.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Page"," ",e.jsxs("span",{children:[b+1," of ",u.length]})]})]}),e.jsx("div",{children:e.jsx(G,{filter:A,setFilter:L})})]}),e.jsxs("table",{className:"min-w-full divide-y divide-slate-100 table-fixed dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-slate-200 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:" table-th ",children:"#"}),e.jsx("th",{className:" table-th ",children:"ClUB ID"}),e.jsx("th",{className:" table-th ",children:"CLUB "}),e.jsx("th",{className:" table-th ",children:"CLUB DESC "}),e.jsx("th",{className:" table-th ",children:"FOLLOWERS"}),e.jsx("th",{className:" table-th ",children:"ACTION"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700",children:C.map(t=>(T(t),l.createElement("tr",{...t.getRowProps(),key:t.original.club_id},e.jsx("td",{className:"table-td",children:t.original.rowIndex}),e.jsx("td",{className:"table-td",children:t.original.club_id}),e.jsxs("td",{className:"table-td flex items-center space-x-3",children:[e.jsx("img",{src:`${c}/${t.original.clubimage}`,alt:"Profile",className:"rounded-full h-10 w-10 object-cover"}),e.jsx("span",{children:t.original.clubname})]}),e.jsxs("td",{className:"table-td",children:[" ",t.original.clubdesc.split(" ").slice(0,4).join(" "),t.original.clubdesc.split(" ").length>4?" ...":""]}),e.jsx("td",{className:"table-td",children:t.original.followers.length}),e.jsx("td",{className:"table-td",children:e.jsxs("div",{className:"d-flex justify-around rtl-space-x-reverse",children:[e.jsx(j,{content:"View Club",placement:"top",arrow:!0,animation:"shift-away",children:e.jsx(O,{to:`/clubprofile?club_id=${t.original.club_id}`,className:"action-btn",children:e.jsx(n,{icon:"heroicons:user"})})}),s==="superadmin"&&e.jsx(j,{content:"Delete",placement:"top",arrow:!0,animation:"shift-away",theme:"danger",children:e.jsx("button",{className:"action-btn",type:"button",onClick:()=>k(t.original.club_id),children:e.jsx(n,{icon:"heroicons:trash"})})})]})}))))})]}),e.jsxs("div",{className:"md:flex md:space-y-0 space-y-5 justify-between mt-6 items-center",children:[e.jsx("div",{className:" flex items-center space-x-3 rtl:space-x-reverse"}),e.jsxs("ul",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:e.jsx("button",{className:` ${i?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>x(0),disabled:!i,children:e.jsx(n,{icon:"heroicons:chevron-double-left-solid"})})}),e.jsx("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:e.jsx("button",{className:` ${i?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>E(),disabled:!i,children:"Prev"})}),u.map((t,a)=>e.jsx("li",{children:e.jsx("button",{href:"#","aria-current":"page",className:`${a===b?"bg-slate-900 dark:bg-slate-600  dark:text-slate-200 text-white font-medium ":"bg-slate-100 dark:bg-slate-700 dark:text-slate-400 text-slate-900  font-normal  "} text-sm rounded leading-[16px] flex h-6 w-6 items-center justify-center transition-all duration-150`,onClick:()=>x(a),children:t+1})},a)),e.jsx("li",{className:"text-sm leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:e.jsx("button",{className:` ${r?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>P(),disabled:!r,children:"Next"})}),e.jsx("li",{className:"text-xl leading-4 text-slate-900 dark:text-white rtl:rotate-180",children:e.jsx("button",{onClick:()=>x($-1),disabled:!r,className:` ${r?"":"opacity-50 cursor-not-allowed"}`,children:e.jsx(n,{icon:"heroicons:chevron-double-right-solid"})})})]})]})]})},U=({Current_user:s})=>e.jsx("div",{children:e.jsx(M,{Current_user:s})}),se=({Current_user:s})=>e.jsxs("div",{children:[e.jsx(_,{title:"Club"}),e.jsx("div",{className:"lg:col-span-12 col-span-12",children:e.jsx(R,{children:e.jsx(U,{Current_user:s})})})]});export{se as default};
